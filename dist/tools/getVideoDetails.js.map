{"version":3,"file":"getVideoDetails.js","names":[],"sources":["../../src/tools/getVideoDetails.ts"],"sourcesContent":["import { id } from \"zod/v4/locales\";\r\nimport { config } from \"../config.ts\";\r\nimport { makeVbrickRevApiRequest, formatResponse } from \"../vbrickUtilities.ts\";\r\nimport { z } from \"zod\";\r\n\r\nexport const getVideoDetailsTool = {\r\n  name: \"vbrick_get_video_details\",\r\n  description: \"Get details for a specific video within Vbrick Rev. \" +\r\n    \"The results include information about the video including the playback link.\",\r\n  inputSchema: {\r\n    videoId: z.string().describe(\"ID of the video to retrieve\")\r\n  },\r\n  async handler({ videoId }: { videoId: string }) {\r\n    const videoUrl = `${config.vbrickRevTenantUrl}/api/v2/videos/${videoId}/details`;\r\n    const videoData = await makeVbrickRevApiRequest<any>(videoUrl);\r\n    if (!videoData) {\r\n      return formatResponse(\"Failed to retrieve video details\", \"text\");\r\n    }\r\n\r\n    const returnedVideo = {\r\n      id: videoData.id,\r\n      title: videoData.title,\r\n      htmlDescription: videoData.htmlDescription,\r\n      description: videoData.description,\r\n      linkedUrl: videoData.linkedUrl,\r\n      approvalStatus: videoData.approvalStatus,\r\n      categories: videoData.categories,\r\n      categoryPaths: videoData.categoryPaths,\r\n      videoAccessControl: videoData.videoAccessControl,\r\n      accessControlEntities: videoData.accessControlEntities,\r\n      tags: videoData.tags,\r\n      enableComments: videoData.enableComments,\r\n      enableRatings: videoData.enableRatings,\r\n      enableDownloads: videoData.enableDownloads,\r\n      enableExternalApplicationAccess: videoData.enableExternalApplicationAccess,\r\n      enableExternalViewersAccess: videoData.enableExternalViewersAccess,\r\n      status: videoData.status,\r\n      canEdit: videoData.canEdit,\r\n      thumbnailKey: videoData.thumbnailKey,\r\n      thumbnailUrl: videoData.thumbnailUrl,\r\n      uploadedBy: videoData.uploadedBy,\r\n      whenUploaded: videoData.whenUploaded,\r\n      lastViewed: videoData.lastViewed,\r\n      customFields: videoData.customFields,\r\n      sourceType: videoData.sourceType,\r\n      expirationDate: videoData.expirationDate,\r\n      expirationAction: videoData.expirationAction,\r\n      publishDate: videoData.publishDate,\r\n      is360: videoData.is360,\r\n      unlisted: videoData.unlisted,\r\n      totalViews: videoData.totalViews,\r\n      overallProgress: videoData.overallProgress,\r\n      isProcessing: videoData.isProcessing,\r\n      enableAutoShowChapterImages: videoData.enableAutoShowChapterImages,\r\n      sensitiveContent: videoData.sensitiveContent,\r\n      passwordIsRequired: videoData.passwordIsRequired,\r\n      password: videoData.password,\r\n      userTags: videoData.userTags,\r\n      upLoader: videoData.upLoader,\r\n      owner: videoData.owner,\r\n      instances: videoData.instances,\r\n      audioTracks: videoData.audioTracks,\r\n      duration: videoData.duration,\r\n      chapters: videoData.chapters,\r\n      hasAudioOnly: videoData.hasAudioOnly,\r\n      avgRating: videoData.avgRating,\r\n      ratingsCount: videoData.ratingsCount,\r\n      expiration: videoData.expiration,\r\n      commentsCount: videoData.commentsCount,\r\n      whenModified: videoData.whenModified,\r\n      closedCaptionsEnabled: videoData.closedCaptionsEnabled,\r\n      approval: videoData.approval,\r\n      transcodeFailed: videoData.transcodeFailed,\r\n      source: videoData.source,\r\n      viewerIdEnabled: videoData.viewerIdEnabled,\r\n      hasDualStreams: videoData.hasDualStreams,\r\n      isConvertedToSwitched: videoData.isConvertedToSwitched\r\n    };\r\n\r\n    return formatResponse(returnedVideo, \"json\");\r\n  }\r\n};\r\n"],"mappings":";;;;;AAKA,MAAa,sBAAsB;CACjC,MAAM;CACN,aAAa;CAEb,aAAa,EACX,SAAS,EAAE,QAAQ,CAAC,SAAS,8BAA8B,EAC5D;CACD,MAAM,QAAQ,EAAE,WAAgC;EAE9C,MAAM,YAAY,MAAM,wBADP,GAAG,OAAO,mBAAmB,iBAAiB,QAAQ,UACT;AAC9D,MAAI,CAAC,UACH,QAAO,eAAe,oCAAoC,OAAO;AA+DnE,SAAO,eA5De;GACpB,IAAI,UAAU;GACd,OAAO,UAAU;GACjB,iBAAiB,UAAU;GAC3B,aAAa,UAAU;GACvB,WAAW,UAAU;GACrB,gBAAgB,UAAU;GAC1B,YAAY,UAAU;GACtB,eAAe,UAAU;GACzB,oBAAoB,UAAU;GAC9B,uBAAuB,UAAU;GACjC,MAAM,UAAU;GAChB,gBAAgB,UAAU;GAC1B,eAAe,UAAU;GACzB,iBAAiB,UAAU;GAC3B,iCAAiC,UAAU;GAC3C,6BAA6B,UAAU;GACvC,QAAQ,UAAU;GAClB,SAAS,UAAU;GACnB,cAAc,UAAU;GACxB,cAAc,UAAU;GACxB,YAAY,UAAU;GACtB,cAAc,UAAU;GACxB,YAAY,UAAU;GACtB,cAAc,UAAU;GACxB,YAAY,UAAU;GACtB,gBAAgB,UAAU;GAC1B,kBAAkB,UAAU;GAC5B,aAAa,UAAU;GACvB,OAAO,UAAU;GACjB,UAAU,UAAU;GACpB,YAAY,UAAU;GACtB,iBAAiB,UAAU;GAC3B,cAAc,UAAU;GACxB,6BAA6B,UAAU;GACvC,kBAAkB,UAAU;GAC5B,oBAAoB,UAAU;GAC9B,UAAU,UAAU;GACpB,UAAU,UAAU;GACpB,UAAU,UAAU;GACpB,OAAO,UAAU;GACjB,WAAW,UAAU;GACrB,aAAa,UAAU;GACvB,UAAU,UAAU;GACpB,UAAU,UAAU;GACpB,cAAc,UAAU;GACxB,WAAW,UAAU;GACrB,cAAc,UAAU;GACxB,YAAY,UAAU;GACtB,eAAe,UAAU;GACzB,cAAc,UAAU;GACxB,uBAAuB,UAAU;GACjC,UAAU,UAAU;GACpB,iBAAiB,UAAU;GAC3B,QAAQ,UAAU;GAClB,iBAAiB,UAAU;GAC3B,gBAAgB,UAAU;GAC1B,uBAAuB,UAAU;GAClC,EAEoC,OAAO;;CAE/C"}